/*! portal-emissor-mobile v1.0.0 | (c) 2014 edersonbuss |  */
!function(){"use strict";function t(t,e,n){var r={},o={isAuthenticated:!1,isAdmin:!1,userId:null,nome:null,roles:null,authdata:null},a=function(){return null!==o},s=function(){return o.isAuthenticated},u=function(t){return!t||null!==o&&(t===!0||_.contains(o.roles,t))},i=function(){return o},c=function(t){o=t};return r.SetCredentials=function(e){var r=t.encode(e.username+":"+e.password),o={isAuthenticated:!0,isAdmin:!1,userId:null,nome:e.username,roles:null,authdata:r};c(o),n.sessionStorage.token=r},r.ClearCredentials=function(){delete e.globals},r.getUser=i,r.setUser=c,r.user=o,r.isLoggedIn=a,r.authorize=u,r.isAuthenticated=s,r}angular.module("app").factory("AuthenticationService",t),t.$inject=["Base64","$rootScope","$window"]}(),function(){"use strict";function t(t,e,n,r,o,a){return{request:function(t){return t.headers=t.headers||{},t},requestError:function(e){return t.reject(e)},response:function(n){return null!=n&&200==n.status&&e.sessionStorage.token&&!r.isAuthenticated()&&(r.user.isAuthenticated=!0),n||t.when(n)},responseError:function(n){return null!=n&&401===n.status&&(e.sessionStorage.token||r.isAuthenticated())&&(delete e.sessionStorage.token,r.user.isAuthenticated=!1,o.$broadcast(a.unauthorizedResponse,n)),(null!=n&&419===n.status||440===n.status)&&o.$broadcast(a.sessionTimeout,n),t.reject(n)}}}angular.module("app").factory("tokenInterceptorService",t),t.$inject=["$q","$window","$location","AuthenticationService","$rootScope","AUTH_EVENTS"]}(),function(){"use strict";function t(t){function e(){}function n(e){return t.get(options.api.base_url+"/security/logout/"+e)}function r(e,n,r){return t.post(options.api.base_url+"/user/register",{username:e,password:n,passwordConfirmation:r})}var o={signIn:e,logOut:n,register:r};return o}angular.module("app").factory("UserService",t),t.$inject=["$http","Base64"]}(),function(){"use strict";function t(t,e,n,r,o){return function(e){var n=function(t){return t},a=function(e){return 401===e.status?(console.log("[INFO] 401 Unauthorized - O usuário não está logado"),r.$broadcast(o.notAuthenticated,e)):400==e.status?r.$broadcast(o.unauthorizedResponse,e):403==e.status?r.$broadcast(o.notAuthorized,e):419===e.status||440===e.status?r.$broadcast(o.sessionTimeout,e):404===e.status?(alert("Erro ao acessar servidor. Página não encontrada. Veja o log de erros para maiores detalhes"),r.$broadcast(o.unauthorizedResponse,e)):500==e.status?r.$broadcast(o.unauthorizedResponse,e):r.$broadcast(o.unauthorizedResponse,e),t.reject(e)};return e.then(n,a)}}angular.module("app").factory("httpInterceptorService",t),t.$inject=["$q","$window","$location","$rootScope","AUTH_EVENTS"]}(),function(){"use strict";function t(){return function(t,e){return null==t?null:(e=+e,t.slice(e))}}angular.module("app").filter("startFrom",t)}(),function(){"use strict";function t(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(e){var n,r,o,a,s,u="",i="",c="",d=0;do n=e.charCodeAt(d++),r=e.charCodeAt(d++),i=e.charCodeAt(d++),o=n>>2,a=(3&n)<<4|r>>4,s=(15&r)<<2|i>>6,c=63&i,isNaN(r)?s=c=64:isNaN(i)&&(c=64),u=u+t.charAt(o)+t.charAt(a)+t.charAt(s)+t.charAt(c),n=r=i="",o=a=s=c="";while(d<e.length);return u},decode:function(e){var n,r,o,a,s,u="",i="",c="",d=0,l=/[^A-Za-z0-9\+\/\=]/g;l.exec(e)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),s=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),n=o<<2|a>>4,r=(15&a)<<4|s>>2,i=(3&s)<<6|c,u+=String.fromCharCode(n),64!=s&&(u+=String.fromCharCode(r)),64!=c&&(u+=String.fromCharCode(i)),n=r=i="",o=a=s=c="";while(d<e.length);return u}}}angular.module("app").factory("Base64",t)}();