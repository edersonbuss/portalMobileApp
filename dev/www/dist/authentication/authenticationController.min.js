/*! portal-emissor-mobile v1.0.0 | (c) 2014 edersonbuss |  */
!function(){"use strict";function e(e,t,o,n,r,s,c,u){e.teste=" AuthenticationController teset",e.user={},e.user=c.getUser(),e.signIn=function(n){var r=o.defer();null!=n.username&&null!=n.password&&s.signIn(n).success(function(e){c.SetCredentials(n.username,n.password),t.$broadcast(u.loginSuccess),r.resolve(e)}).error(function(o,n){var s={isAuthenticated:!1,isAdmin:!1,userId:null,nome:null,roles:null};c.setUser(s),e.user=null,t.$broadcast(u.loginFailed),r.reject(n)})},e.logOut=function(){var n=o.defer();c.isAuthenticated()?(e.user=c.getUser(),s.logOut(e.user.userId).success(function(o){var s={isAuthenticated:!1,isAdmin:!1,userId:null,nome:null,roles:null};c.setUser(s),e.user=null,delete r.sessionStorage.token,t.$broadcast(u.logoutSuccess),n.reject(o)}).error(function(e,t){n.reject(t)})):t.$broadcast(u.logoutSuccess)},e.register=function(t,o,r){c.isAuthenticated()?n.path("/login"):s.register(t,o,r).success(function(){n.path("/admin/login")}).error(function(t,o){console.log(t),console.log(o),e.errors=UtilsService.parseErrors(o.errors)})}}angular.module("app").controller("AuthenticationController",e),e.$inject=["$scope","$rootScope","$q","$location","$window","UserService","AuthenticationService","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,o,n,r,s,c){s.ClearCredentials(),e.login=function(e){s.SetCredentials(e),t.$broadcast(c.loginSuccess)}}angular.module("app").controller("LoginController",e),e.$inject=["$scope","$rootScope","$q","$location","$window","AuthenticationService","AUTH_EVENTS"]}(),function(){"use strict";function e(e,t,o,n,r,s,c,u){var i=o.defer();c.isAuthenticated()?(e.user=c.getUser(),s.logOut(e.user.userId).success(function(o){var n={isAuthenticated:!1,isAdmin:!1,userId:null,nome:null,roles:null};c.setUser(n),e.user=null,delete r.sessionStorage.token,t.$broadcast(u.logoutSuccess),i.reject(o)}).error(function(e,t){i.reject(t)})):t.$broadcast(u.logoutSuccess)}angular.module("app").controller("LogoutController",e),e.$inject=["$scope","$rootScope","$q","$location","$window","UserService","AuthenticationService","AUTH_EVENTS"]}();